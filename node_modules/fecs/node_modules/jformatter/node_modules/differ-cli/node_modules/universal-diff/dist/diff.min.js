/*! universal-diff v2.0.2 | nighca(nighca@live.cn) | Apache License(2.0) */
!function(t){var n=0,r=1,e=2,i=3,f=-1,o=0,u=function(t,n){return t===n},c=function(t,r,f){var o=t.length,c=r.length,l=o+c,s=Array.apply(null,{length:c+o+1}).map(function(){return[]}),a=[],h=-1;f=f||u,a[l+1]=0;for(var p=0;l>=p&&-1===h;p++)for(var g,v,d,m=-p;p>=m&&-1===h;m+=2){for(m===-p||m!==p&&a[m-1+l]<a[m+1+l]?(g=a[m+1+l],d=i):(g=a[m-1+l]+1,d=e),v=g-m,s[g][v]=d;o>g&&c>v&&f(t[g],r[v]);)g++,v++,s[g][v]=n;a[m+l]=g,g>=o&&v>=c&&(h=p)}return s},l=c,s=function(t,u,c){for(var l=t.length,s=u.length,a=[],h=[],p=l,g=s;p>0||g>0;)switch(c[p][g]){case n:a.unshift(t[p-1]),h.unshift(o),p-=1,g-=1;break;case r:a.unshift(t[p-1]),h.unshift(u[g-1]),p-=1,g-=1;break;case e:a.unshift(t[p-1]),h.unshift(f),p-=1,g-=0;break;case i:a.unshift(f),h.unshift(u[g-1]),p-=0,g-=1}return{src:a,target:h}},a=function(t,n,r){var e,i,u,c,a,h=l(t,n,r),p=s(t,n,h),g=p.src,v=p.target,d=v.length,m=function(t){return t!==f},y=[];for(c=d-1;c>=0;){for(a=c;v[a]!==o&&a>=0;a--);c>a&&(e=g.slice(0,a+1).filter(m).length,i=g.slice(a+1,c+1).filter(m).length,u=v.slice(a+1,c+1).filter(m),y.unshift(u.length?[e,i,u]:[e,i])),c=a-1}return y},h=function(t,n){for(var r,e=t.slice(),i=n.length-1;i>=0;i--){r=n[i];var f=r[2];f&&(r=r.slice(0,2).concat(f)),e.splice.apply(e,r)}return e},p=function(t,n,r){r="string"==typeof r?r:"";var e=t.split(r),i=n.split(r),f=a(e,i);return f.forEach(function(t){t[2]&&(t[2]=t[2].join(r))}),{splitter:r,diff:f}},g=function(t,n){for(var r,e=n.splitter,i=n.diff,f=t.split(e),o=i.length-1;o>=0;o--)r=i[o],f.splice.apply(f,r);return f.join(e)},v={coreCompare:l,compare:a,merge:h,compareStr:p,mergeStr:g};"function"==typeof define?define(function(){return v}):"undefined"!=typeof exports?module.exports=v:t.diff=v}(this);